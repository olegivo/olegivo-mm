<UserControl 
    x:Class="Oleg_ivo.MeloManager.View.MainView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:View="clr-namespace:Oleg_ivo.MeloManager.View"
    ScrollViewer.CanContentScroll="True"
    Loaded="MainView_OnLoaded">
    <Grid 
        VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
        ScrollViewer.CanContentScroll="True">
        <Grid.ColumnDefinitions>
            <ColumnDefinition></ColumnDefinition>
            <ColumnDefinition></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition MaxHeight="70" Height="Auto" />
            <RowDefinition MinHeight="300" Height="*" />
            <RowDefinition MinHeight="300" Height="*" />
            <RowDefinition MaxHeight="30" Height="Auto" />
        </Grid.RowDefinitions>
        <ToolBar
            Grid.Row="0"
            Grid.Column="0" Grid.ColumnSpan="2">
            <Button Command="{Binding CommandLoadFromDb}">
                <StackPanel Orientation="Horizontal">
                    <Image Source="/Oleg_ivo.MeloManager;component/Resources/folder_refresh.ico"  />
                    <TextBlock VerticalAlignment="Center">Load</TextBlock>
                </StackPanel>
            </Button>
            <Separator />
            <Button Command="{Binding CommandSaveAndLoad}">
                <StackPanel Orientation="Horizontal">
                    <Image Source="/Oleg_ivo.MeloManager;component/Resources/save.ico"  />
                    <TextBlock VerticalAlignment="Center">Save</TextBlock>
                </StackPanel>
            </Button>
            <Separator />
            <Button Command="{Binding CommandTreeAddCategory}">
                <StackPanel Orientation="Horizontal">
                    <Image Source="/Oleg_ivo.MeloManager;component/Resources/folder_add.ico"  />
                    <TextBlock VerticalAlignment="Center">Add</TextBlock>
                </StackPanel>
            </Button>
            <Separator />
            <Button Command="{Binding CommandImportWinampPlaylists}">
                <StackPanel Orientation="Horizontal">
                    <Image Source="/Oleg_ivo.MeloManager;component/Resources/folder_into.ico"  />
                    <TextBlock VerticalAlignment="Center">Импорт из Winamp</TextBlock>
                </StackPanel>
            </Button>
            <Separator />
            <Button Command="{Binding CommandInitDataSource}">Init</Button>
            <Separator />
            <Button Command="{Binding CommandTest}">Test</Button>
        </ToolBar>
        <View:MediaTree 
            DataContext="{Binding MediaTree}"
            Grid.Row="1" Grid.RowSpan="2" 
            Grid.Column="0" >
        </View:MediaTree>
        <View:MediaList 
            DataContext="{Binding Parents}"
            Grid.Row="1" 
            Grid.Column="1" >
        </View:MediaList>
        <View:MediaList 
            DataContext="{Binding Childs}"
            Grid.Row="2" 
            Grid.Column="1"  />
        <StatusBar
            Grid.Row="3" 
            Grid.Column="0" Grid.ColumnSpan="2">
            <TextBlock Text="{Binding StatusText}" />
        </StatusBar>
    </Grid>
</UserControl>
